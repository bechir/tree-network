{% macro card(user) %}
    {% set profile_url = path('user_show', {usernameCanonical: user.usernameCanonical}) %}
    <div class="card mb-4">
        <div class="view overlay">
            <img class="card-img-top" src="{{ user.avatar ? vich_uploader_asset(user.avatar, 'avatarFile') : asset('img/user/default-avatar-profile.jpg') }}">
            <a href="{{ profile_url }}">
                <div class="mask rgba-white-slight"></div>
            </a>
        </div>
        <div class="card-body">
            <h5 class="card-title text-center">{{ user.fullName }}</h5>
            {% set desc = 'Pas de description.' %}
            {% if user.description %}
                {% set desc = user.description %}
                {% if desc|length > 90 %}
                    {% set desc = desc[:87] ~ '...' %}
                {% endif %}
                
            {% endif %}
            <p class="card-text text-center">{{ desc }}</p>
            <div class="bottom-text">
                <hr>
                <span>
                    <i class="far fa-tree"></i>
                    13 membres</span>
                <p class="float-right">
                    <i class="fas fa-layer-group"></i>
                    4 générations</p>
            </div>
            <a href="{{ profile_url }}"><button class="btn aqua-gradient btn-block" type="button">Détails</button></a>
        </div>
    </div>
{% endmacro %}
